/* ===== RESPONSIVE STYLING SYSTEM ===== */

/* ===== 1. MOBILE-FIRST BREAKPOINT SYSTEM ===== */
/* Based on appConfig breakpoints: xs: 480, sm: 640, md: 768, lg: 1024, xl: 1280, xxl: 1536 */

/* Base styles (mobile-first) - no media query needed */
/* All styles below are mobile-first by default */

/* Breakpoint system - styles are defined below with specific selectors */

/* ===== 2. FLEXIBLE GRID SYSTEM ===== */

/* Responsive Grid Container */
.responsive-grid {
  display: grid;
  gap: 1rem;
  width: 100%;
}

/* Mobile-first: 1 column */
.responsive-grid {
  grid-template-columns: 1fr;
}

/* Small devices: 2 columns */
@media (min-width: 640px) {
  .responsive-grid-sm-2 {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Medium devices: 2-3 columns */
@media (min-width: 768px) {
  .responsive-grid-md-2 {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .responsive-grid-md-3 {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Large devices: 3-4 columns */
@media (min-width: 1024px) {
  .responsive-grid-lg-3 {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .responsive-grid-lg-4 {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Extra large devices: 4-5 columns */
@media (min-width: 1280px) {
  .responsive-grid-xl-4 {
    grid-template-columns: repeat(4, 1fr);
  }
  
  .responsive-grid-xl-5 {
    grid-template-columns: repeat(5, 1fr);
  }
}

/* Auto-fit grid (flexible columns) */
.responsive-grid-auto {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

@media (min-width: 640px) {
  .responsive-grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }
}

@media (min-width: 1024px) {
  .responsive-grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }
}

@media (min-width: 1280px) {
  .responsive-grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
}

/* Masonry-style grid */
.responsive-masonry {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  grid-auto-rows: 10px;
}

@media (min-width: 640px) {
  .responsive-masonry {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
}

@media (min-width: 768px) {
  .responsive-masonry {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
}

@media (min-width: 1024px) {
  .responsive-masonry {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
}

/* ===== 3. TOUCH OPTIMIZATIONS ===== */

/* Minimum touch target size: 44x44px (Apple HIG) or 48x48px (Material Design) */
.touch-target {
  min-width: 44px;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem;
}

/* Enhanced touch targets for mobile */
@media (max-width: 768px) {
  /* Buttons - larger on mobile */
  button:not([data-slot="button"]),
  [data-slot="button"] {
    min-height: 44px;
    min-width: 44px;
    padding: 0.75rem 1.25rem;
  }
  
  /* Links - larger tap area */
  a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    padding: 0.5rem;
  }
  
  /* Form inputs - larger on mobile */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  textarea,
  select {
    min-height: 44px;
    font-size: 16px; /* Prevents zoom on iOS */
    padding: 0.75rem;
  }
  
  /* Checkboxes and radio buttons - larger */
  input[type="checkbox"],
  input[type="radio"] {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
  }
  
  /* Icon buttons - ensure minimum size */
  button[aria-label],
  [role="button"] {
    min-width: 44px;
    min-height: 44px;
  }
  
  /* Card clickable areas */
  .clickable-card,
  [data-clickable="true"] {
    min-height: 120px;
    padding: 1rem;
  }
  
  /* Navigation items */
  nav a,
  nav button {
    min-height: 48px;
    padding: 0.75rem 1rem;
  }
  
  /* Table rows - larger tap area */
  table tbody tr {
    min-height: 56px;
  }
  
  /* List items */
  li[role="button"],
  li[onClick] {
    min-height: 48px;
    padding: 0.75rem 1rem;
  }
}

/* Extra spacing for touch on mobile */
@media (max-width: 768px) {
  .touch-spacing {
    margin: 0.5rem 0;
    padding: 0.75rem;
  }
  
  .touch-spacing > * + * {
    margin-top: 0.75rem;
  }
}

/* ===== 4. SWIPE GESTURE INDICATORS ===== */

/* Swipe container */
.swipe-container {
  position: relative;
  overflow: hidden;
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
}

.swipe-container.horizontal {
  touch-action: pan-x;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

.swipe-container.horizontal::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Swipe indicator dots */
.swipe-indicator {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  position: relative;
}

.swipe-indicator-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: hsl(var(--muted-foreground) / 0.3);
  transition: all 0.3s ease;
  cursor: pointer;
}

.swipe-indicator-dot.active {
  width: 24px;
  border-radius: 4px;
  background: hsl(var(--primary));
}

/* Swipe arrows (for desktop hint) */
.swipe-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: hsl(var(--background) / 0.9);
  border: 1px solid hsl(var(--border));
  border-radius: 50%;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 10;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.swipe-container:hover .swipe-arrow {
  opacity: 1;
}

.swipe-arrow.left {
  left: 1rem;
}

.swipe-arrow.right {
  right: 1rem;
}

/* Hide arrows on mobile */
@media (max-width: 768px) {
  .swipe-arrow {
    display: none;
  }
}

/* Swipe hint text */
.swipe-hint {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.5rem;
  color: hsl(var(--muted-foreground));
  font-size: 0.875rem;
  margin-top: 0.5rem;
}

.swipe-hint-icon {
  animation: swipe-hint-pulse 2s ease-in-out infinite;
}

@keyframes swipe-hint-pulse {
  0%, 100% {
    transform: translateX(0);
    opacity: 0.5;
  }
  50% {
    transform: translateX(10px);
    opacity: 1;
  }
}

/* Hide swipe hint on desktop */
@media (min-width: 769px) {
  .swipe-hint {
    display: none;
  }
}

/* Swipeable cards */
.swipeable-card {
  scroll-snap-align: start;
  flex-shrink: 0;
  width: 100%;
}

@media (min-width: 640px) {
  .swipeable-card {
    width: calc(50% - 0.5rem);
  }
}

@media (min-width: 1024px) {
  .swipeable-card {
    width: calc(33.333% - 0.67rem);
  }
}

/* ===== 5. RESPONSIVE UTILITIES ===== */

/* Hide on mobile */
.hide-mobile {
  display: none;
}

@media (min-width: 768px) {
  .hide-mobile {
    display: block;
  }
}

.hide-mobile-inline {
  display: none;
}

@media (min-width: 768px) {
  .hide-mobile-inline {
    display: inline;
  }
}

.hide-mobile-flex {
  display: none;
}

@media (min-width: 768px) {
  .hide-mobile-flex {
    display: flex;
  }
}

/* Show only on mobile */
.show-mobile {
  display: block;
}

@media (min-width: 768px) {
  .show-mobile {
    display: none;
  }
}

.show-mobile-inline {
  display: inline;
}

@media (min-width: 768px) {
  .show-mobile-inline {
    display: none;
  }
}

.show-mobile-flex {
  display: flex;
}

@media (min-width: 768px) {
  .show-mobile-flex {
    display: none;
  }
}

/* Responsive text sizes */
.text-responsive {
  font-size: 0.875rem;
}

@media (min-width: 640px) {
  .text-responsive {
    font-size: 1rem;
  }
}

@media (min-width: 1024px) {
  .text-responsive {
    font-size: 1.125rem;
  }
}

/* Responsive spacing */
.spacing-responsive {
  padding: 1rem;
  gap: 0.75rem;
}

@media (min-width: 640px) {
  .spacing-responsive {
    padding: 1.5rem;
    gap: 1rem;
  }
}

@media (min-width: 1024px) {
  .spacing-responsive {
    padding: 2rem;
    gap: 1.5rem;
  }
}

/* Responsive container */
.container-responsive {
  width: 100%;
  margin: 0 auto;
  padding: 0 1rem;
}

@media (min-width: 640px) {
  .container-responsive {
    max-width: 640px;
    padding: 0 1.5rem;
  }
}

@media (min-width: 768px) {
  .container-responsive {
    max-width: 768px;
  }
}

@media (min-width: 1024px) {
  .container-responsive {
    max-width: 1024px;
  }
}

@media (min-width: 1280px) {
  .container-responsive {
    max-width: 1280px;
  }
}

@media (min-width: 1536px) {
  .container-responsive {
    max-width: 1536px;
  }
}

/* ===== 6. MOBILE-SPECIFIC ENHANCEMENTS ===== */

/* Prevent text size adjustment on iOS */
@media (max-width: 768px) {
  input,
  select,
  textarea {
    font-size: 16px !important; /* Prevents zoom on focus */
  }
}

/* Smooth scrolling on mobile */
@media (max-width: 768px) {
  html {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  * {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  
  .safe-area-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  
  .safe-area-left {
    padding-left: max(1rem, env(safe-area-inset-left));
  }
  
  .safe-area-right {
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* ===== 7. RESPONSIVE IMAGES ===== */

.responsive-image {
  width: 100%;
  height: auto;
  object-fit: cover;
}

/* Responsive aspect ratios */
.aspect-ratio-responsive {
  position: relative;
  width: 100%;
  padding-bottom: 56.25%; /* 16:9 default */
}

.aspect-ratio-responsive > * {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@media (min-width: 768px) {
  .aspect-ratio-responsive {
    padding-bottom: 75%; /* 4:3 on tablet */
  }
}

@media (min-width: 1024px) {
  .aspect-ratio-responsive {
    padding-bottom: 56.25%; /* 16:9 on desktop */
  }
}

/* ===== 8. RESPONSIVE TYPOGRAPHY ===== */

/* Fluid typography */
.fluid-text {
  font-size: clamp(1rem, 2.5vw, 1.5rem);
}

.fluid-heading {
  font-size: clamp(1.5rem, 4vw, 2.5rem);
}

.fluid-subheading {
  font-size: clamp(1.125rem, 3vw, 1.75rem);
}

/* ===== 9. RESPONSIVE NAVIGATION ===== */

/* Mobile menu toggle */
@media (max-width: 768px) {
  .mobile-menu-toggle {
    display: block;
    min-width: 44px;
    min-height: 44px;
  }
  
  .desktop-menu {
    display: none;
  }
}

@media (min-width: 769px) {
  .mobile-menu-toggle {
    display: none;
  }
  
  .desktop-menu {
    display: flex;
  }
}

/* ===== 10. RESPONSIVE TABLES ===== */

@media (max-width: 768px) {
  .responsive-table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .responsive-table table {
    min-width: 600px;
  }
  
  /* Card-based table on mobile */
  .table-card-view {
    display: block;
  }
  
  .table-card-view thead {
    display: none;
  }
  
  .table-card-view tbody {
    display: block;
  }
  
  .table-card-view tr {
    display: block;
    margin-bottom: 1rem;
    border: 1px solid hsl(var(--border));
    border-radius: calc(var(--radius) - 2px);
    padding: 1rem;
    background: hsl(var(--card));
  }
  
  .table-card-view td {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border: none;
  }
  
  .table-card-view td::before {
    content: attr(data-label);
    font-weight: 600;
    margin-right: 1rem;
  }
}

